<div class="content" *ngIf="!loading; else loadingTemplate">
  <mat-list>
    <mat-card *ngFor="let client of clients" class="client-card">
      <mat-card-content>
        <h3>{{ client.nombre }} {{ client.apellidop }} {{ client.apellidom }}</h3>
        <p>RUT: {{ client.rut }}</p>
        <p>Correo: {{ client.correo }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="warn" (click)="deleteClient(client.id)">
          <mat-icon>delete</mat-icon> Eliminar
        </button>
      </mat-card-actions>
    </mat-card>
  </mat-list>

  <div *ngIf="responseMessage.error" class="error-message">
    {{ responseMessage.error }}
  </div>
</div>

<ng-template #loadingTemplate>
  <div class="loading">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>

<style>
  .content {
    padding: 16px;
  }

  .client-card {
    margin-bottom: 16px;
  }

  .loading {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .error-message {
    color: red;
    margin-top: 16px;
  }
</style>
